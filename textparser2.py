import os

# Dictionaries to store running total

Packaged = {"self-extracting archive":0,"upx compressed":0,"pecompact2_compressed":0}

Unpackaged = {}

# Running total
total_selfextractingarchive = 0
total_upxcompressed = 0
total_pecompact2compressed = 0

# Total of all packaged files
total_Packaged = 0

# Initialize file_count
file_count = 0



with open("/home/ldeng/Malware_Analysis/Malware_Analysis_Summer2019/magic.txt") as f:
    for line in f:
        line = line.strip()
        # print(line)
        file_count += 1


        if "self-extracting archive" in line.lower():
            Packaged["self-extracting archive"] += 1
            total_selfextractingarchive=Packaged["self-extracting archive"]
        elif "upx compressed" in line.lower():
            Packaged["upx compressed"] += 1
            total_upxcompressed = Packaged["self-extracting archive"]
        elif "pecompact2 compressed" in line.lower():
            Packaged["pecompact2_compressed"] += 1
            total_pecompact2compressed = Packaged["pecompact2_compressed"]

        total_Packaged=sum(Packaged.values())






print(f"""
Total self-extracting archive: {total_selfextractingarchive}
Total UPX Compressed:  {total_upxcompressed}
Total PE32 compact2 Compressed: {total_pecompact2compressed}


Total Packaged PE32 Files: {total_Packaged}

""")
